<!DOCTYPE html>
<html>
	<head>
		<script type="module" src="./script.js"></script>
		<!-- Import Stylesheets -->
		<link rel="stylesheet" href="./style.css" />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css"
		/>
		<title>Saved Songs</title>
	</head>
	<body style="display: flex; min-height: 100vh; flex-direction: column;">

		<!-- <a href="https://github.com/Bailey-1/Node-Spotify-Saved-Songs-CSV-Exporter" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style> -->
		<a href="https://github.com/Bailey-1/Node-Spotify-Saved-Songs-CSV-Exporter" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
		<!-- Header -->
		<section class="hero is-small is-info is-bold">
			<div class="hero-body">
				<div class="container">
					<h1 class="title is-1">
						Spotify Saved Songs & Playlist CSV Generator
					</h1>
					<hr />
					<div id="accountDetails" class="is-hidden">
						<h2 class="subtitle">
							Signed in as
							<a class="button is-info is-light is-small" id="accountName"></a>
							<a class="button is-danger is-light is-small" id="btnLogout">Logout</a>
						</h2>
						<h2 id="playlistsStats" class="subtitle"></h2>
					</div>
					<button
						id="spotifyLogin"
						class="button is-large"
						style="background-color: #1db954; color: #ffffff"
					>
						<img
							src="./spotify-icons-logos/icons/01_RGB/02_PNG/Spotify_Icon_RGB_White.png"
							style="max-height: 2em; padding-right: 1em"
						/>
						Sign in with Spotify
					</button>

					</div>
				</div>
			</div>
		</section>

		<!-- Options -->
		<section class="section">
			<h2 class="subtitle is-4">Choose a type:</h2>
			<div class="tabs is-boxed is-centered is-fullwidth is-toggle">
				<ul>
				  	<li id="btnSelectSavedTab">
						<a id="btnSelectSaved">Saved Tracks</a>
				  	</li>
				  	<li id="btnSelectPlaylistTab">
						<a id="btnSelectPlaylist">Playlist</a>
				  	</li>
				</ul>
			  </div>
			<div id="optionsContainer" class="container is-hidden">
				<nav id="selectPlaylistDiv" class="is-hidden">
					<p class="panel-heading">CSV Options:</p>
					<div class="panel-block">
						<label class="label">Choose a playlist:</label>
						<div class="select" style="padding-left: 1em">
							<select id="selectPlaylist">
								<option value="null">Pick a Playlist!</option>
							</select>
						</div>
					</div>
				</nav>

				<nav class="panel">
					<p class="panel-heading">Include the following fields in the CSV file:</p>
					<!-- This is a bad way of doing this but idk-->
					<label class="panel-block">
						<input type="checkbox" checked id="checkboxPlaylistNumber"/>
						Playlist Number:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked id="checkboxTrackName"/>
						Track Name:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked id="checkboxArtist"/>
						Artist:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked id="checkboxAlbum"/>
						Album:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked id="checkboxDiscNumber"/>
						Disc Number:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked id="checkboxTrackNumber"/>
						Track Number:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked id="checkboxDuration"/>
						Duration:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked id="checkboxAddedAt"/>
						Added At:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked id="checkboxSpotifyID"/>
						Spotify ID:
					</label>

					<div class="panel-block">
						<button id="btnExport" class="button is-link is-fullwidth">
							Export as CSV
						</button>
					</div>
					<div class="panel-block">
						<button id="btnShowTable" class="button is-primary is-fullwidth" disabled>
							Show Table
						</button>
					</div>
				</nav>
			</div>
		</section>

		<!-- Table -->
		<section style="flex-grow: 1;">
			<div id="tableDiv" class="container is-hidden">
				<div>
					<div>
						<h2 class="subtitle is-6" id="totalTime">Total Duration:</h2>
						<h2 class="subtitle is-6" id="totalSaved">Number of Saved Tracks:</h2>
				
						<h1 class="title">All Saved Songs</h1>
						<!-- <button id="btnExport">EXPORT AS CSV</button> -->
						<!-- <button id="btnRefresh">Refresh</button> -->
					</div>
				</div>
		
				<table class="table is-striped is-hoverable is-narrow is-fullwidth">
					<thead id="tableHead">
						<tr>
							<th>No.</th>
							<th>Name</th>
							<th>Artist</th>
							<th>Album</th>
							<th>Disc No.</th>
							<th>Track No.</th>
							<th>Duration</th>
							<th>Added At</th>
							<th>ID</th>
							<th>Play 30s Demo</th>
						</tr>
					</thead>
					<tbody id="tableBody"></tbody>
				</table>
			</div>
		</section>

		<!-- Footer -->
		<section class="hero has-background-info">
			<div class="hero-body">
			  <div class="container">
				<h2 class="subtitle">
				  Made by me ❤️
				</h2>
				<h2 class="subtitle">
					<a href="https://github.com/tholman/github-corners">GitHub Corners by Tim Holman</a>
				  </h2>
			  </div>
			</div>
		  </section>
	</body>
	<audio id="mainPlayer"></audio>
</html>
	
	<template id="tableRecord">
		<tr>
			<td id="number">Number in playlist</td>
			<td id="name">Track Name</td>
			<td id="artist">Artist</td>
			<td id="album">Album</td>
			<td id="diskNum">DiscNum</td>
			<td id="trackNum">TrackNum</td>
			<td id="duration">Duration</td>
		<td id="added">Added on date</td>
		<td id="id">SpotifyID</td>
		<td>
			<button id="btnPlay">Play</button>
			<button id="btnStop">Stop</button>
		</td>
	</tr>
</template>
