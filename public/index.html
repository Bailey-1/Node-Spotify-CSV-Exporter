<!DOCTYPE html>
<html>
	<head>
		<script type="module" src="./script.js"></script>
		<!-- Import Stylesheets -->
		<link rel="stylesheet" href="./style.css" />
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css"
		/>
		<title>Saved Songs</title>
	</head>
	<body style="display: flex; min-height: 100vh; flex-direction: column;">
		<!-- Header -->
		<section class="hero is-small is-info is-bold">
			<div class="hero-body">
				<div class="container">
					<h1 class="title is-1">
						Spotify Saved Songs & Playlist CSV Generator
					</h1>
					<hr />
					<div id="accountDetails" class="is-hidden">
						<h2 class="subtitle">
							Signed in as
							<a class="button is-info is-light is-small" id="accountName"></a>
							<a class="button is-danger is-light is-small" id="btnLogout">Logout</a>
						</h2>
						<h2 id="playlistsStats" class="subtitle"></h2>
					</div>
					<button
						id="spotifyLogin"
						class="button is-large"
						style="background-color: #1db954; color: #ffffff"
					>
						<img
							src="./spotify-icons-logos/icons/01_RGB/02_PNG/Spotify_Icon_RGB_White.png"
							style="max-height: 2em; padding-right: 1em"
						/>
						Sign in with Spotify
					</button>

					</div>
				</div>
			</div>
		</section>

		<!-- Options -->
		<section class="section">
			<h2 class="subtitle is-4">Choose a type:</h2>
			<div class="tabs is-boxed is-centered is-fullwidth is-toggle">
				<ul>
				  	<li id="btnSelectSavedTab">
						<a id="btnSelectSaved">Saved Tracks</a>
				  	</li>
				  	<li id="btnSelectPlaylistTab">
						<a id="btnSelectPlaylist">Playlist</a>
				  	</li>
				</ul>
			  </div>
			<div id="optionsContainer" class="container is-hidden">
				<nav id="selectPlaylistDiv" class="is-hidden">
					<p class="panel-heading">CSV Options:</p>
					<div class="panel-block">
						<label class="label">Choose a playlist:</label>
						<div class="select" style="padding-left: 1em">
							<select id="selectPlaylist">
								<option value="null">Pick a Playlist!</option>
							</select>
						</div>
					</div>
				</nav>

				<nav class="panel">
					<p class="panel-heading">Include the following fields in the CSV file:</p>
					<label class="panel-block">
						<input type="checkbox" checked id="checkboxPlaylistNumber"/>
						Playlist Number:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked/>
						Track Name:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked/>
						Artist:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked/>
						Album:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked/>
						Disc Number:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked/>
						Track Number:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked/>
						Duration:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked/>
						Added At:
					</label>
					<label class="panel-block">
						<input type="checkbox" checked/>
						Spotify ID:
					</label>

					<div class="panel-block">
						<button id="btnExport" class="button is-link is-fullwidth">
							Export as CSV
						</button>
					</div>
					<div class="panel-block">
						<button id="btnShowTable" class="button is-primary is-fullwidth" disabled>
							Show Table
						</button>
					</div>
				</nav>
			</div>
		</section>

		<!-- Table -->
		<section style="flex-grow: 1;">
			<div id="tableDiv" class="container is-hidden">
				<div>
					<div>
						<h2 class="subtitle is-6" id="totalTime">Total Duration:</h2>
						<h2 class="subtitle is-6" id="totalSaved">Number of Saved Tracks:</h2>
				
						<h1 class="title">All Saved Songs</h1>
						<!-- <button id="btnExport">EXPORT AS CSV</button> -->
						<!-- <button id="btnRefresh">Refresh</button> -->
					</div>
				</div>
		
				<table class="table is-striped is-hoverable is-narrow is-fullwidth">
					<thead id="tableHead">
						<tr>
							<th>No.</th>
							<th>Song</th>
							<th>Artist</th>
							<th>Album</th>
							<th>Disc No.</th>
							<th>Track No.</th>
							<th>Duration</th>
							<th>Added At</th>
							<th>ID</th>
							<th>Play 30s Demo</th>
						</tr>
					</thead>
					<tbody id="tableBody"></tbody>
				</table>
			</div>
		</section>

		<!-- Footer -->
		<section class="hero has-background-info">
			<div class="hero-body">
			  <div class="container">
				<h2 class="subtitle">
				  Hero subtitle
				</h2>
			  </div>
			</div>
		  </section>
	</body>
	<audio id="mainPlayer"></audio>
</html>
	
	<template id="tableRecord">
		<tr>
			<td id="number">Number in playlist</td>
			<td id="name">Track Name</td>
			<td id="artist">Artist</td>
			<td id="album">Album</td>
			<td id="diskNum">DiscNum</td>
			<td id="trackNum">TrackNum</td>
			<td id="duration">Duration</td>
		<td id="added">Added on date</td>
		<td id="id">SpotifyID</td>
		<td>
			<button id="btnPlay">Play</button>
			<button id="btnStop">Stop</button>
		</td>
	</tr>
</template>
